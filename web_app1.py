import streamlit as st
from huggingface_hub import InferenceClient
client = InferenceClient(model="IlyaGusev/saiga2_7b")  
st.set_page_config(page_title="–ï–ì–≠-GPT", page_icon="ü§ñ")
st.title("–ï–ì–≠-GPT –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ 2026 üöÄ")
st.markdown("–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–¥–∞—á ‚Ññ6‚Äì27 (–±–µ–∑ –∫–ª—é—á–µ–π, –Ω–∞ Hugging Face!)")
num = st.selectbox("–í—ã–±–µ—Ä–∏ –Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏:", ["6", "8", "12", "15", "16", "19-21", "23", "24", "25", "27"])
if st.button("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É"):
    with st.spinner("–ò–ò –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç..."):
        prompt = f"""–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –§–ò–ü–ò –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É ‚Ññ{num} –¥–ª—è –ï–ì–≠ 2026 (–Ω–µ –∏–∑ –±–∞–Ω–∫–∞).
        –§–æ—Ä–º–∞—Ç:
        1. –£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏
        2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
        3. –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ä–µ—à–µ–Ω–∏—è
        
        –°–¥–µ–ª–∞–π —Å–ª–æ–∂–Ω–æ–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π!"""
        
        result = client.text_generation(
            prompt,
            max_new_tokens=1000,
            temperature=0.7,
            do_sample=True
        )
        st.success("–ì–æ—Ç–æ–≤–æ! –í–æ—Ç –∑–∞–¥–∞—á–∞:")
        st.markdown(result)

st.markdown("---")
st.subheader("–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ")
solution = st.text_area("–í—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç —Ä–µ—à–µ–Ω–∏—è:")
if st.button("–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"):
    if solution:
        with st.spinner("–ü—Ä–æ–≤–µ—Ä—è—é..."):
            check_prompt = f"""–ü—Ä–æ–≤–µ—Ä—å —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ ‚Ññ{num} –ï–ì–≠ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ:
            
            –†–µ—à–µ–Ω–∏–µ: {solution}
            
            –£–∫–∞–∂–∏:
            - –û—à–∏–±–∫–∏
            - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
            - –ë–∞–ª–ª—ã –æ—Ç –§–ò–ü–ò (–∏–∑ 100)"""
            
            answer = client.text_generation(
                check_prompt,
                max_new_tokens=800,
                temperature=0.5
            )
            st.markdown(answer)
    else:
        st.warning("–í–≤–µ–¥–∏ —Ä–µ—à–µ–Ω–∏–µ —Å–Ω–∞—á–∞–ª–∞!")

st.markdown("---")
st.caption("–ú–æ–¥–µ–ª—å: Saiga2-7B –æ—Ç Hugging Face. –î–ª—è —à–∫–æ–ª—ã ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ! –ï—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ ‚Äî –æ–±–Ω–æ–≤–∏.")
